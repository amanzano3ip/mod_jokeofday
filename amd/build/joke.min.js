/**
 * @author  2024 3iPunt <https://www.tresipunt.com/>
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_jokeofday/joke",["jquery","core/str","core/ajax","core/templates"],(function($,Str,Ajax,Templates){let ACTION_SCORE_SELECT='[data-action="score"]',SERVICES_SCORE="mod_jokeofday_joke_score";function Joke(region,id){this.node=$(region),this.id=id,this.node.find(ACTION_SCORE_SELECT).on("change",this.scoreSelectChange.bind(this))}return Joke.prototype.scoreSelectChange=function(e){const value=$(e.currentTarget).val(),request={methodname:SERVICES_SCORE,args:{jokeid:this.id,score:value}};Ajax.call([request])[0].done((function(response){response.success?(console.log("LA PETICIÃ“N ES CORRECTA"),console.log(response.data)):console.log(response.error)})).fail((function(fail){console.log(fail)}))},Joke.prototype.node=null,{initJoke:function(region,id){return new Joke(region,id)}}}));

//# sourceMappingURL=joke.min.js.map